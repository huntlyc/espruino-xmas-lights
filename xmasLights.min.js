function XmasLights(){this.isLightsOn=!1,this.currentMode=0,this.itterCount=0,this.intervalVal=250,this.currentTimeoutID=void 0}XmasLights.prototype.run=function(){var t=this;setWatch(function(){t.toggleMode()},BTN1,!0),this.toggleLightState()},XmasLights.prototype.toggleMode=function(){1===digitalRead(BTN1)&&(this.currentMode++,this.currentMode>2&&(this.currentMode=0),console.log("mode "+this.currentMode))},XmasLights.prototype.toggleLightState=function(){var t=this;this.isLightsOn=!this.isLightsOn,A1.write(this.isLightsOn),void 0!==this.currentTimeoutID&&clearTimeout(this.currentTimeoutID),this.currentTimeoutID=setTimeout(function(){t.toggleLightState()},this.getModeTimeoutVal())},XmasLights.prototype.getModeTimeoutVal=function(){switch(this.currentMode){case 0:switch(this.itterCount++){case 1:this.intervalVal=200;break;case 8:this.intervalVal=500;break;case 16:this.intervalVal=300;break;case 24:this.intervalVal=100;break;case 48:this.intervalVal=600,this.itterCount=0}break;case 1:this.intervalVal=500;break;case 2:this.isLightsOn?this.intervalVal=Math.ceil(1e3*Math.random()):this.intervalVal=200}return this.intervalVal};var xmasLights=new XmasLights;xmasLights.run();